<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">

    <!-- Video JS CSS -->
    <link href="https://unpkg.com/video.js@7.10.2/dist/video-js.min.css" rel="stylesheet">

    <!-- Video JS -->
    <script src="https://unpkg.com/video.js@7.10.2/dist/video.min.js"></script>
    <script src="https://unpkg.com/@videojs/http-streaming/dist/videojs-http-streaming.js"></script>

    <title>Last View</title>

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-KTTH441JJJ"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'G-KTTH441JJJ');
    </script>
</head>

<body>
    <div class="container-fluid d-flex flex-column p-0" style="height: 100vh;overflow:hidden">
        <div class="row bg-dark d-flex justify-content-between align-items-center">
            <div class="col text-white ms-2">LAST VIEW LIVE - 86 meters - Turun tuomiokirkko</div>
            <div class="col text-end me-2">
                <span class="text-danger" id="status-online"><span class="blink">â¬¤</span> LIVE</span>
            </div>
        </div>
        <div class="row" style="flex:1">
            <div class="col d-flex">
                <video-js id="vid1" style="flex:1;height:100%" class="vjs-default-skin flex-1" controls muted autoplay>
                    <source id="video-source" src="https://camera2.stream.laval.fi/hls/stream.m3u8" type="application/x-mpegURL">
                </video-js>
            </div>
        </div>
    </div>

    <div aria-live="polite" aria-atomic="true" class="d-flex justify-content-center align-items-center w-100"
        style="position:absolute;top:0;left:0;width:100vw;height:100vh;pointer-events: none;">

        <div id="toast" class="toast" role="alert" aria-live="assertive" aria-atomic="true">
            <div class="toast-header">
                <strong class="me-auto">Alert</strong>
                <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
            </div>
            <div class="toast-body">
                Whoa there cowboy, slow down your clicking finger.
            </div>
        </div>
    </div>

    <style>
        .blink {
            animation: blink 2s cubic-bezier(.5, 0, 1, 1) infinite alternate;
        }

        @keyframes blink {
            to {
                opacity: 0;
            }
        }

        #status-online {
            display: block;
        }
    </style>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
        crossorigin="anonymous"></script>

    <script>
        // Initialize player
        var player = videojs('vid1');

        window.onload = function () {
            setTimeout(function () {
                player.ready(function () {
                    this.play().catch(function(error) {
                        console.log('Autoplay was prevented:', error);
                    });
                });
            }, 500);  // Viive 500ms ennen toiston aloittamista
        };
    </script>

</body>

</html>
